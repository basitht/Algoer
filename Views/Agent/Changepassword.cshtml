@model SafeSpot.Model.tb_log
@using SafeSpot.Model;
@{
    ViewBag.Title = "Changepassword";
    Layout = "~/Views/Shared/_LayoutAgent.cshtml";
    db_SafeSpotEntities6 db = new db_SafeSpotEntities6();
    var log = db.tb_log.ToList();
    var agent = db.tb_agent.ToList();
}
@using (Html.BeginForm("Changepassword", "agent", FormMethod.Post, new { id = "form1", name = "form1", @enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()
    <html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width" />
        <title>Home</title>
        <link href="~/Content/Site.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <script src="~/Scripts/modernizr-2.6.2.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Exo+2&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <style>
             body {
                background-image: url('../../Images/cars_bw_dark_135210_1920x1080.jpg');
                background-repeat: no-repeat;
                background-size: cover;
                font-family: 'Exo 2', sans-serif;
            }
             .container{
                font-family: 'Exo 2', sans-serif;
                width:280px;
                color:white;
                position:absolute;
                top:50%;
                left:50%;
                transform:translate(-50%,-50%);
            }
             .container h2{
                font-family: 'Exo 2', sans-serif;
                float:left;
                font-size:28px;
                border-bottom:2px solid #85b66b;
                margin-bottom:50px;
                padding:13px 0;
                letter-spacing:3px;
                font-weight:bold;
                text-align:center;
            }
            .td1{
                width:100%;
                overflow:hidden;
                font-size:18px;
                padding:8px 0;
                margin:8px 0;
                border-bottom:2px solid #85b66b;
            }
            .td1 label{
                width:100%;
                float:left;
                /*text-align:center*/;
                color:white;
            }
            .td1 input{
                border:none;
                outline:none;
                background:none;
           
            } 
            .btn {
                width:100%;
                background:none;
                border:2px solid #85b66b;
                color:white;
                padding:5px;
                font-size:18px;
                cursor:pointer;
                position:absolute;
                top:430px;
                left:40px;
            }
            .error {
                color: red;
                margin-left: 5px;
            }

            .lblmsg {
                color: green;
                padding: 5px;
            }
        </style>
        </head>
        <body>
            <div class="container">
                 <form id="form1" action="/agent/Changepassword" method="post">
                     <h2>Change Password</h2>
                        <table>
                            <tr>
                                <td class="td1">
                                    <label>Current Password:</label>
                                </td>
                                <td class="td1">
                                    <input type="text" id="oldpass" name="oldpass" placeholder="Current Password" />

                                </td>
                            </tr>
                            <tr>
                                <td class="td1">
                                    <label><label>New Passsword:</label></label>
                                </td>
                                <td class="td1">
                                    <input type="password" id="newpass" name="newpass" placeholder="New Password" />

                                </td>
                            </tr>
                            <tr>
                                <td class="td1">
                                    <label>Confirm Password:</label>
                                </td>
                                <td class="td1">
                                    <input type="password" id="conpass" name="conpass" placeholder="Confirm Password" />

                                </td>
                            </tr>
                            <tr>
                                <td></td>
                                <td>
                                    <input type="submit" id="submit" value="Change Password" name="submit" class="btn" /><label class="lblmsg">@ViewBag.msg</label>
                                </td>
                            </tr>

                        </table>
                    </form>
                </div>
           </body>
        </html>
        }
        <script src="~/Scripts/jquery-1.10.2.min.js"></script>
        <script src="~/Scripts/jquery.validate.min.js"></script>
        <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
        <script type="text/javascript">
            $(document).ready(function () {

                $("#form1").validate({
                    rules: {
                        oldpass: "required",
                        newpass: {
                            required: true,
                            minlength: 5
                        },
                        conpass: {
                            required: true,
                            minlength: 5,
                            equalTo: "#newpass"
                        }
                    },
                    messages: {
                        oldpass: "Enter Old Password",
                        newpass: {
                            required: "Please provide password",
                            minlength: "Password must be at least 5 characters long"
                        },
                        conpass: {
                            required: "Enter Confirm Password",
                            minlength: "should contain atleast 5 characters",
                           
                        }
                    },
                    submitHandler: function (form) {
                        form.submit();
                    }

                });

            });
        </script>

       
